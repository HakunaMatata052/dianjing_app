(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d00dd6"],{1733:function(t,e,n){"use strict";n("c5f6"),Number,Number,Number,Number;var a={data:function(){return{activeZan:this.iszan,overlayShow:!1,UIChatBox:null,popupShow:!1,zanNum:this.zan}},computed:{forwardC:function(){return 0===this.forward?"":this.forward},commentC:function(){return 0===this.comment?"":this.comment},zanNumC:function(){return 0===this.zanNum?"":this.zanNum}},props:{id:{default:function(){return""},required:!0},forward:{type:Number,default:function(){return-1},required:!1},comment:{type:Number,default:function(){return-1},required:!1},zan:{type:Number,default:function(){return-1},required:!1},iszan:{default:function(){return 0},required:!1},size:{type:Number,default:function(){return 16},required:!1}},methods:{zanFn:function(){var t=this;this.activeZan=!this.activeZan,this.$SERVER.agree({sourceId:this.id,userId:this.$store.state.userInfo.userid}).then(function(e){t.zanNum=e.count,t.$emit("zanFn",e.count)}).catch(function(e){t.activeZan=!t.activeZan})},commentFn:function(){var t=this;t.$emit("commentFn")}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation"},[-1!=t.forward?n("div",{staticClass:"operation-item"},[n("van-icon",{staticClass:"icon",attrs:{"class-prefix":"icon",name:"zhuanfa",size:t.size,color:"rgba(153,153,153,1)"}}),t._v(" "),n("span",{style:"font-size:"+(t.size-4)+"px"},[t._v(t._s(t.forwardC))])],1):t._e(),t._v(" "),-1!=t.comment?n("div",{staticClass:"operation-item",on:{click:function(e){return e.stopPropagation(),t.commentFn(e)}}},[n("van-icon",{staticClass:"icon",attrs:{"class-prefix":"icon",name:"pinglun",size:t.size,color:"rgba(153,153,153,1)"}}),t._v(" "),n("span",{style:"font-size:"+(t.size-4)+"px"},[t._v(t._s(t.commentC))])],1):t._e(),t._v(" "),-1!=t.zan?n("div",{staticClass:"operation-item",on:{click:function(e){return e.stopPropagation(),t.zanFn(e)}}},[t.activeZan?n("van-icon",{attrs:{name:"like",color:t.$store.state.color,size:t.size}}):n("van-icon",{attrs:{name:"like-o",color:"rgba(153,153,153,1)",size:t.size}}),t._v(" "),n("span",{style:"font-size:"+(t.size-4)+"px"},[t._v(t._s(t.zanNumC))])],1):t._e()])},i=[],s=n("2455");function r(t){n("bdb2")}var c=!1,l=r,u="data-v-9379c02e",f=null,d=Object(s["a"])(a,o,i,c,l,u,f);e["a"]=d.exports},"20fd":function(t,e,n){"use strict";var a=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?a.f(t,e,o(0,n)):t[e]=n}},"2e85":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.btn[data-v-3f2bf3af] {\n  width: 1.1rem;\n  height: 0.5rem;\n  line-height: 0.5rem;\n  background: #bfbfbf;\n  border-radius: 0.26rem;\n  font-size: 0.24rem;\n  font-weight: 500;\n  color: #ffffff;\n  text-align: center;\n  margin-right: 0.24rem;\n}\n.btn.follow[data-v-3f2bf3af] {\n  background: #ffd948 !important;\n}\n",""])},"3c57":function(t,e,n){"use strict";n("4917"),n("673e");var a=n("75fc"),o=(n("c5f6"),n("1733")),i=(o["a"],String,Number,{components:{operation:o["a"]},props:{pid:{type:String},type:{type:Number}},data:function(){return{list:[],finished:!1,loading:!1,pageSize:20,pageNum:1,hasNextPage:!0,UIChatBox:null,popupShow:!1}},methods:{onLoad:function(t,e){if(t){var n=this;n.$SERVER.getEvaluates({pid:t,type:e,pageNum:n.pageNum,pageSize:n.pageSize}).then(function(t){n.pageNum=t.data.nextPage,n.hasNextPage=t.data.hasNextPage,n.finished=!t.data.hasNextPage,n.list=[].concat(Object(a["a"])(n.list),Object(a["a"])(t.data.list)),n.loading=!1})}},onLoadSub:function(t){var e=this;e.$SERVER.getEvaluateDetail({msgId:e.list[t].id,type:e.type,pageNum:e.list[t].pageNum||1,pageSize:2}).then(function(n){e.list[t].pageNum=n.data.nextPage,e.list[t].sub=[].concat(Object(a["a"])(e.list[t].sub),Object(a["a"])(n.data.list))})},commentFn:function(t,e,n){var a=this;a.popupShow=!0,window.navigator.userAgent.match(/APICloud/i)&&(a.UIChatBox=api.require("UIChatBox"),a.UIChatBox.close(),a.UIChatBox.open({placeholder:"@"+e.nickname,autoFocus:!0,emotionPath:"widget://res/image/emotion",texts:{sendBtn:{title:"发送"}},styles:{inputBar:{borderColor:"rgba(255,255,255,1)",bgColor:"rgba(255,255,255,1)"},inputBox:{borderColor:"rgba(245,245,245,1)",bgColor:"rgba(245,245,245,1)",textColor:"rgba(153,153,153,1)",borderCorner:15},indicator:{target:"both",color:"#c4c4c4",activeColor:"#9e9e9e"},emotionBtn:{normalImg:"widget://res/image/face1.png"},sendBtn:{bg:"#4cc518",titleColor:"#ffffff",activeBg:"#46a91e",titleSize:13}}},function(o,i){if("send"==o.eventType)if(null==o.msg||""==o.msg)a.$toast.fail("评论内容不能为空！");else{var s=o.msg;n&&(s=o.msg+" //@"+e.nickname),a.$SERVER.addEvaluate({msgId:a.list[t].id,type:a.type,message:s,fromUserId:a.$store.state.userInfo.userid}).then(function(e){a.list[t].replyCount++,a.list[t].sub.unshift({createtime:(new Date).getTime(),fromUser:{image:a.$store.state.userInfo.image,nickname:a.$store.state.userInfo.nickname,userid:a.$store.state.userInfo.userid},message:s}),a.$set(a.list,t,a.list[t]),a.$toast.success("评论成功！")}),a.closeOverlay()}}))},addCommentView:function(t){var e=this;e.list.unshift({createtime:(new Date).getTime(),fromUser:{image:e.$store.state.userInfo.image,nickname:e.$store.state.userInfo.nickname,userid:e.$store.state.userInfo.userid},message:t,replyCount:0,sub:[]}),e.$set(e.list,index,e.list[index])},closeOverlay:function(){window.navigator.userAgent.match(/APICloud/i)&&this.UIChatBox.close(),this.popupShow=!1}}}),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-box"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:function(e){t.onLoad(t.pid,t.type)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"avatar",on:{click:function(n){n.stopPropagation(),t.$router.push("/accompanyDetail/"+e.userid)}}},[n("img",{attrs:{src:e.fromUser.image}})]),t._v(" "),n("div",{staticClass:"con"},[n("div",{staticClass:"username"},[t._v(t._s(e.fromUser.nickname))]),t._v(" "),n("p",[t._v(t._s(e.message))]),t._v(" "),0!=e.replyCount?n("div",{staticClass:"sub-comment"},[t._l(e.sub,function(o,i){return n("div",{key:i,staticClass:"sub-item",on:{click:function(n){t.commentFn(a,e.fromUser,!0)}}},[n("div",{staticClass:"avatar",on:{click:function(n){n.stopPropagation(),t.$router.push("/accompanyDetail/"+e.userid)}}},[n("img",{attrs:{src:o.fromUser.image}})]),t._v(" "),n("div",{staticClass:"sub-con"},[n("div",{staticClass:"username"},[t._v(t._s(o.fromUser.nickname))]),t._v(" "),n("p",[t._v("\n                "+t._s(o.message)+"\n                "),n("span",[t._v(t._s(t.$METHOD.timeSwitchString(o.createtime)))])])])])}),t._v(" "),e.sub.length!=e.replyCount?n("div",{staticClass:"more",on:{click:function(e){t.onLoadSub(a)}}},[t._v("\n            展开更多回复\n            "),n("van-icon",{staticClass:"ico",attrs:{name:"arrow-down",color:"rgba(255,217,72,1)"}})],1):t._e()],2):t._e(),t._v(" "),n("div",{staticClass:"comment-bottom"},[n("span",[t._v(t._s(t.$METHOD.timeSwitchString(e.createtime)))]),t._v(" "),n("operation",{staticClass:"operation",attrs:{id:e.id,comment:e.replyCount,zan:e.likecount,iszan:e.likestatue},on:{commentFn:function(n){t.commentFn(a,e.fromUser)}}})],1)])])}),0),t._v(" "),n("van-popup",{style:{height:0},attrs:{position:"top","get-container":"body","overlay-class":"overlay"},on:{close:t.closeOverlay},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}})],1)},r=[],c=n("2455");function l(t){n("62e7")}var u=!1,f=l,d="data-v-267e266c",m=null,p=Object(c["a"])(i,s,r,u,f,d,m);e["a"]=p.exports},4114:function(t,e,n){var a=n("eb75");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("499e").default;o("1485aae2",a,!0,{})},"549b":function(t,e,n){"use strict";var a=n("d864"),o=n("63b6"),i=n("241e"),s=n("b0dc"),r=n("3702"),c=n("b447"),l=n("20fd"),u=n("7cd6");o(o.S+o.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,d=i(t),m="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,v=void 0!==b,h=0,g=u(d);if(v&&(b=a(b,p>2?arguments[2]:void 0,2)),void 0==g||m==Array&&r(g))for(e=c(d.length),n=new m(e);e>h;h++)l(n,h,v?b(d[h],h):d[h]);else for(f=g.call(d),n=new m;!(o=f.next()).done;h++)l(n,h,v?s(f,b,[o.value,h],!0):o.value);return n.length=h,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5bf2":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.operation[data-v-9379c02e] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 0.1rem 0;\n}\n.operation .operation-item[data-v-9379c02e] {\n  font-size: 0.24rem;\n  font-weight: 400;\n  color: #999999;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-align-content: center;\n      -ms-flex-line-pack: center;\n          align-content: center;\n}\n.operation .operation-item span[data-v-9379c02e] {\n  margin-left: 0.1rem;\n}\n",""])},"62e7":function(t,e,n){var a=n("ccd2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("499e").default;o("444ddf26",a,!0,{})},"75fc":function(t,e,n){"use strict";var a=n("a745"),o=n.n(a);function i(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var s=n("774e"),r=n.n(s),c=n("c8bb"),l=n.n(c);function u(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return i(t)||u(t)||f()}n.d(e,"a",function(){return d})},"774e":function(t,e,n){t.exports=n("d2d5")},"95d5":function(t,e,n){var a=n("40c3"),o=n("5168")("iterator"),i=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(a(e))}},adff:function(t,e,n){var a=n("2e85");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("499e").default;o("3bdb8332",a,!0,{})},b00e:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.nobg .van-hairline--bottom::after {\n  border-bottom-width: 0;\n}\n",""])},bdb2:function(t,e,n){var a=n("5bf2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("499e").default;o("5b188c7f",a,!0,{})},c8bb:function(t,e,n){t.exports=n("54a1")},ccd2:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.comment-box[data-v-267e266c] {\n  border-top: 0.02rem solid #e6e6e6;\n  padding: 0.3rem;\n}\n.comment-box .item[data-v-267e266c] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding-bottom: 0.2rem;\n  margin-bottom: 0.2rem;\n  border-bottom: 0.02rem solid #f5f5f5;\n}\n.comment-box .item .avatar[data-v-267e266c] {\n  -webkit-flex-shrink: 0;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n  margin-right: 0.2rem;\n}\n.comment-box .item .avatar img[data-v-267e266c] {\n  width: 0.8rem;\n  height: 0.8rem;\n  border-radius: 50%;\n}\n.comment-box .item .con[data-v-267e266c] {\n  -webkit-box-flex: 1;\n  -webkit-flex-grow: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  -webkit-flex-shrink: 1;\n      -ms-flex-negative: 1;\n          flex-shrink: 1;\n}\n.comment-box .item .con .username[data-v-267e266c] {\n  font-size: 0.28rem;\n  font-weight: bold;\n  color: #333333;\n}\n.comment-box .item .con p[data-v-267e266c] {\n  font-size: 0.26rem;\n  font-weight: 500;\n  color: #333333;\n  line-height: 0.36rem;\n  padding: 0.16rem 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-bottom: 0.1rem;\n}\n.comment-box .item .con .comment-bottom[data-v-267e266c] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  font-size: 0.22rem;\n  font-weight: 500;\n  color: #999999;\n}\n.comment-box .item .con .comment-bottom .operation[data-v-267e266c] {\n  width: 30%;\n}\n.comment-box .item .more[data-v-267e266c] {\n  color: #ffd948;\n  font-size: 0.26rem;\n  margin-bottom: 0.2rem;\n}\n.comment-box .item .more .ico[data-v-267e266c] {\n  margin-left: 0.2rem;\n}\n.comment-box .item .sub-item[data-v-267e266c] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 0.1rem;\n}\n.comment-box .item .sub-item p[data-v-267e266c] {\n  padding: 0.1rem 0;\n}\n.comment-box .item .sub-item p span[data-v-267e266c] {\n  font-size: 0.22rem;\n  font-weight: 500;\n  color: #999999;\n}\n",""])},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d816:function(t,e,n){"use strict";String;var a={props:{toUserid:{type:String,default:function(){return""},required:!1}},data:function(){return{fanStatueId:0,fanStatue:"关注"}},created:function(){this.inFans(0)},methods:{follow:function(){0==this.fanStatueId?this.inFans(1):this.inFans(2)},inFans:function(t){var e=this;this.$SERVER.fans({loginUserId:this.$store.state.userInfo.userid,toUserId:this.toUserid,type:t}).then(function(t){0==t.data&&(e.fanStatueId=t.data,e.fanStatue="关注"),1==t.data&&(e.fanStatueId=t.data,e.fanStatue="已关注"),2==t.data&&(e.fanStatue="互相关注",e.fanStatueId=t.data)})}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toUserid!=t.$store.state.userInfo.userid&&t.$METHOD.getStore("token")?n("div",{class:0==t.fanStatueId?"btn follow":"btn",on:{click:t.follow}},[t._t("default"),t._v("\n  "+t._s(t.fanStatue)+"\n")],2):t._e()},i=[],s=n("2455");function r(t){n("adff")}var c=!1,l=r,u="data-v-3f2bf3af",f=null,d=Object(s["a"])(a,o,i,c,l,u,f);e["a"]=d.exports},eb75:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n.navbar[data-v-7aa0d3c6] {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 999;\n  background: #fff;\n}\n.navbar .title span[data-v-7aa0d3c6] {\n  font-weight: bold;\n}\n.navbar .left[data-v-7aa0d3c6],\n.navbar .right[data-v-7aa0d3c6] {\n  font-size: 0.4rem;\n}\n.navbar-empty[data-v-7aa0d3c6] {\n  height: 0.92rem;\n}\n/* 风格 */\n.nobg[data-v-7aa0d3c6] {\n  background: none;\n}\n.nobg .title[data-v-7aa0d3c6] {\n  color: #fff;\n}\n.nobg .left[data-v-7aa0d3c6] {\n  color: #fff !important;\n}\n",""])},f2d0:function(t,e,n){var a=n("b00e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("499e").default;o("0274895e",a,!0,{})},ff6f:function(t,e,n){"use strict";n("386d"),String,Boolean,Boolean,Boolean,String;var a={name:"navbar",data:function(){return{top:"",searchShow:!1,value:"",searchEmptyShow:!1}},props:{title:{type:String,default:function(){return this.$route.meta.title},required:!1},goback:{type:Boolean,default:function(){return!0},required:!1},search:{type:Boolean,default:function(){return!1},required:!1},filter:{type:Boolean,default:function(){return!1},required:!1},stl:{type:String,default:function(){},required:!1}},components:{},mounted:function(){var t=this.$store.state.systemType;"android"==t&&(this.top=25),"ios"==t&&(this.top=40,this.searchEmptyShow=!0)},methods:{onClickLeft:function(){this.goback&&this.$router.go(-1)},openSearchFn:function(){this.search&&(this.searchShow=!0)},searchFn:function(){console.log("搜索")}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"navbar",class:t.stl?t.stl:"",attrs:{id:"navbar"}},[n("div",{staticClass:"top",style:"padding-top:"+t.top+"px"}),t._v(" "),n("van-nav-bar",{staticStyle:{background:"none"},attrs:{"z-index":999},on:{"click-left":function(e){t.onClickLeft()},"click-right":function(e){t.openSearchFn()}}},[n("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[n("span",[t._v(t._s(t.title))]),t._v(" "),t._t("title")],2),t._v(" "),t.goback?n("van-icon",{staticClass:"left",attrs:{slot:"left",name:"arrow-left"},slot:"left"}):t._e(),t._v(" "),t.search?n("svg-icon",{staticClass:"right",attrs:{slot:"right","icon-class":"search"},slot:"right"}):t._t("right",null,{slot:"right"})],2)],1),t._v(" "),t.stl?t._e():n("div",{staticClass:"navbar-empty",style:"padding-top:"+t.top+"px"}),t._v(" "),n("van-popup",{attrs:{position:"top","get-container":"body"},model:{value:t.searchShow,callback:function(e){t.searchShow=e},expression:"searchShow"}},[t.searchEmptyShow&&!t.stl?n("div",{staticClass:"navbar-empty"}):t._e(),t._v(" "),n("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{blur:t.searchFn},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},i=[],s=n("2455");function r(t){n("f2d0"),n("4114")}var c=!1,l=r,u="data-v-7aa0d3c6",f=null,d=Object(s["a"])(a,o,i,c,l,u,f);e["a"]=d.exports}}]);